name: CI - Code Quality Check

on:
  push:
    branches: [ main, develop ]
  pull_request:
    branches: [ main ]

jobs:
  check:
    name: Check code quality
    runs-on: ubuntu-latest
    
    steps:
      - name: Checkout code
        uses: actions/checkout@v4
        
      - name: Check HTML files
        run: |
          echo "âœ… Checking HTML files..."
          find . -name "*.html" -type f | while read file; do
            echo "ðŸ“„ $file"
          done
          
      - name: Check CSS files
        run: |
          echo "âœ… Checking CSS files..."
          find ./css -name "*.css" -type f | while read file; do
            echo "ðŸŽ¨ $file"
          done
          
      - name: Check JavaScript files
        run: |
          echo "âœ… Checking JavaScript files..."
          find ./js -name "*.js" -type f | while read file; do
            echo "ðŸ“œ $file"
          done
          
      - name: Count project files
        run: |
          echo "ðŸ“Š Project Statistics:"
          echo "HTML files: $(find . -name '*.html' | wc -l)"
          echo "CSS files: $(find . -name '*.css' | wc -l)"
          echo "JS files: $(find . -name '*.js' | wc -l)"
          echo "Total lines of code: $(find . -name '*.html' -o -name '*.css' -o -name '*.js' | xargs wc -l | tail -1)"
          
      - name: Validate structure
        run: |
          echo "âœ… Validating project structure..."
          if [ -d "css" ]; then echo "âœ“ CSS folder exists"; else echo "âœ— CSS folder missing"; exit 1; fi
          if [ -d "js" ]; then echo "âœ“ JS folder exists"; else echo "âœ— JS folder missing"; exit 1; fi
          if [ -f "index.html" ]; then echo "âœ“ index.html exists"; else echo "âœ— index.html missing"; exit 1; fi
          if [ -f "login.html" ]; then echo "âœ“ login.html exists"; else echo "âœ— login.html missing"; exit 1; fi
          if [ -f "register.html" ]; then echo "âœ“ register.html exists"; else echo "âœ— register.html missing"; exit 1; fi
          if [ -f "README.md" ]; then echo "âœ“ README.md exists"; else echo "âœ— README.md missing"; exit 1; fi
          echo "ðŸŽ‰ All required files are present!"

