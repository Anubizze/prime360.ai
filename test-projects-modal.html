<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–¢–µ—Å—Ç –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ - –ü—Ä–æ–µ–∫—Ç—ã</title>
    <link rel="icon" type="image/png" href="img/icon prime360.png">
    <link rel="stylesheet" href="css/index.css">
    <link rel="stylesheet" href="css/mobile-responsive.css">
    <script src="js/mobile-menu.js"></script>
    <style>
        .test-info {
            position: fixed;
            top: 10px;
            right: 10px;
            background: rgba(0, 0, 0, 0.8);
            color: white;
            padding: 10px;
            border-radius: 5px;
            font-size: 12px;
            z-index: 9999;
        }
        
        .test-controls {
            position: fixed;
            bottom: 10px;
            left: 10px;
            background: white;
            padding: 10px;
            border-radius: 5px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            z-index: 9999;
        }
        
        .test-button {
            background: #70B8B8;
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 4px;
            cursor: pointer;
            margin: 2px;
        }
        
        .test-button:hover {
            background: #5a9a9a;
        }
    </style>
</head>
<body>
    <div class="test-info">
        <div>–¢–µ—Å—Ç –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ "–ù–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç"</div>
        <div>Modal: <span id="modalStatus">–ù–µ –Ω–∞–π–¥–µ–Ω–æ</span></div>
        <div>Button: <span id="buttonStatus">–ù–µ –Ω–∞–π–¥–µ–Ω–æ</span></div>
    </div>
    
    <div class="test-controls">
        <button class="test-button" onclick="checkElements()">Check Elements</button>
        <button class="test-button" onclick="testOpenModal()">Test Open Modal</button>
        <button class="test-button" onclick="testCloseModal()">Test Close Modal</button>
        <button class="test-button" onclick="testCreateProject()">Test Create Project</button>
    </div>
    
    <div class="mobile-overlay" id="mobileOverlay"></div>
    
    <div class="container">
        <div class="sidebar">
            <div class="logo">
                <div class="logo-icon">
                    <img src="img/icon prime360.png" alt="PRIME360.AI" width="32" height="32">
                </div>
                <div class="logo-text">PRIME360.AI</div>
            </div>
            
            <a href="index.html" class="menu-item">
                <span class="menu-icon">üè†</span>
                –ì–ª–∞–≤–Ω–æ–µ
            </a>
            <a href="projects.html" class="menu-item active">
                <span class="menu-icon">üìä</span>
                –ü—Ä–æ–µ–∫—Ç—ã
            </a>
            <a href="meetings.html" class="menu-item">
                <span class="menu-icon">üí¨</span>
                –°–æ–≤–µ—â–∞–Ω–∏—è
            </a>
            <a href="messenger.html" class="menu-item">
                <span class="menu-icon">üì±</span>
                –ú–µ—Å—Å–µ–Ω–¥–∂–µ—Ä
            </a>
        </div>

        <div class="main-content">
            <div class="header">
                <div></div>
                <div class="search-container">
                    <input type="text" class="search-input" placeholder="–ü–æ–∏—Å–∫">
                    <span class="search-icon">üîç</span>
                </div>
                <div class="user-profile">
                    <div class="user-info">
                        <div class="user-name">–ê–π–≥—É–Ω –ê—Ö–º–µ—Ç–æ–≤–∞</div>
                        <div class="user-role">PM / –ê–¥–º–∏–Ω</div>
                    </div>
                    <div class="user-avatar">–ê</div>
                </div>
            </div>

            <div class="content-header">
                <div class="content-title">
                    <div class="title-left">
                        <div class="title-text">–ü—Ä–æ–µ–∫—Ç—ã - –¢–µ—Å—Ç –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞</div>
                    </div>
                    <button class="invite-button" onclick="openNewProjectModal()">
                        <span>+</span>
                        –ù–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç
                    </button>
                </div>
            </div>
            
            <div class="content-body">
                <div class="projects-grid">
                    <div class="project-card" data-status="active">
                        <div class="project-header">
                            <h3>–¢–µ—Å—Ç–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç</h3>
                            <div class="project-status active">–í —Ä–∞–±–æ—Ç–µ</div>
                        </div>
                        <p>–û–ø–∏—Å–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞</p>
                        <div class="project-progress">
                            <div class="progress-bar">
                                <div class="progress-fill" style="width: 75%"></div>
                            </div>
                            <span>75%</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –Ω–æ–≤–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞ -->
    <div id="newProjectModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">–°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç</h2>
                <button class="close" onclick="closeNewProjectModal()">&times;</button>
            </div>
            <form id="newProjectForm">
                <div class="modal-body">
                    <div class="form-group">
                        <label class="form-label" for="projectName">–ù–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞ *</label>
                        <input type="text" id="projectName" name="projectName" class="form-input" placeholder="–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞" required>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label" for="projectDescription">–û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞ *</label>
                        <textarea id="projectDescription" name="projectDescription" class="form-textarea" placeholder="–û–ø–∏—à–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç" required></textarea>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label" for="projectStatus">–°—Ç–∞—Ç—É—Å –ø—Ä–æ–µ–∫—Ç–∞</label>
                            <select id="projectStatus" name="projectStatus" class="form-select">
                                <option value="planning">–ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ</option>
                                <option value="active">–í —Ä–∞–±–æ—Ç–µ</option>
                                <option value="completed">–ó–∞–≤–µ—Ä—à–µ–Ω–æ</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label" for="projectProgress">–ü—Ä–æ–≥—Ä–µ—Å—Å (%) *</label>
                            <input type="number" id="projectProgress" name="projectProgress" class="form-input" min="0" max="100" placeholder="0" required>
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label" for="projectBudget">–ë—é–¥–∂–µ—Ç (M ‚Ç∏) *</label>
                            <input type="number" id="projectBudget" name="projectBudget" class="form-input" min="0" step="0.1" placeholder="1.0" required>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label" for="projectDuration">–°—Ä–æ–∫ (–º–µ—Å—è—Ü—ã)</label>
                            <input type="number" id="projectDuration" name="projectDuration" class="form-input" min="1" placeholder="12">
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label" for="projectColor">–¶–≤–µ—Ç –ø—Ä–æ–µ–∫—Ç–∞</label>
                        <select id="projectColor" name="projectColor" class="form-select">
                            <option value="green">–ó–µ–ª–µ–Ω—ã–π</option>
                            <option value="orange">–û—Ä–∞–Ω–∂–µ–≤—ã–π</option>
                            <option value="blue">–°–∏–Ω–∏–π</option>
                        </select>
                    </div>
                </div>
                
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" onclick="closeNewProjectModal()">–û—Ç–º–µ–Ω–∞</button>
                    <button type="button" class="btn btn-primary" onclick="createNewProject()">–°–æ–∑–¥–∞—Ç—å –ø—Ä–æ–µ–∫—Ç</button>
                </div>
            </form>
        </div>
    </div>

    <script>
        // –ü—Ä–æ–≤–µ—Ä—è–µ–º —ç–ª–µ–º–µ–Ω—Ç—ã
        function checkElements() {
            const modal = document.getElementById('newProjectModal');
            const button = document.querySelector('.invite-button');
            
            document.getElementById('modalStatus').textContent = modal ? '–ù–∞–π–¥–µ–Ω–æ' : '–ù–µ –Ω–∞–π–¥–µ–Ω–æ';
            document.getElementById('buttonStatus').textContent = button ? '–ù–∞–π–¥–µ–Ω–æ' : '–ù–µ –Ω–∞–π–¥–µ–Ω–æ';
            
            console.log('Modal:', modal);
            console.log('Button:', button);
            console.log('Modal display:', modal ? modal.style.display : 'N/A');
            console.log('Modal classList:', modal ? modal.classList : 'N/A');
        }
        
        // –¢–µ—Å—Ç –æ—Ç–∫—Ä—ã—Ç–∏—è –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞
        function testOpenModal() {
            console.log('–û—Ç–∫—Ä—ã–≤–∞–µ–º –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ...');
            openNewProjectModal();
        }
        
        // –¢–µ—Å—Ç –∑–∞–∫—Ä—ã—Ç–∏—è –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞
        function testCloseModal() {
            console.log('–ó–∞–∫—Ä—ã–≤–∞–µ–º –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ...');
            closeNewProjectModal();
        }
        
        // –¢–µ—Å—Ç —Å–æ–∑–¥–∞–Ω–∏—è –ø—Ä–æ–µ–∫—Ç–∞
        function testCreateProject() {
            console.log('–¢–µ—Å—Ç–∏—Ä—É–µ–º —Å–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞...');
            // –ó–∞–ø–æ–ª–Ω—è–µ–º —Ñ–æ—Ä–º—É —Ç–µ—Å—Ç–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
            document.getElementById('projectName').value = '–¢–µ—Å—Ç–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç';
            document.getElementById('projectDescription').value = '–û–ø–∏—Å–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞';
            document.getElementById('projectProgress').value = '50';
            document.getElementById('projectBudget').value = '1.5';
            document.getElementById('projectDuration').value = '6';
            
            createNewProject();
        }
        
        // –§—É–Ω–∫—Ü–∏–∏ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞
        function openNewProjectModal() {
            console.log('openNewProjectModal –≤—ã–∑–≤–∞–Ω–∞');
            const modal = document.getElementById('newProjectModal');
            if (modal) {
                modal.style.display = 'block';
                document.body.style.overflow = 'hidden';
                
                // –ü–ª–∞–≤–Ω–æ–µ –ø–æ—è–≤–ª–µ–Ω–∏–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞
                setTimeout(() => {
                    modal.style.opacity = '1';
                    modal.classList.add('show');
                }, 10);
                
                console.log('–ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –æ—Ç–∫—Ä—ã—Ç–æ');
            } else {
                console.error('–ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ!');
            }
        }

        function closeNewProjectModal() {
            console.log('closeNewProjectModal –≤—ã–∑–≤–∞–Ω–∞');
            const modal = document.getElementById('newProjectModal');
            if (modal) {
                modal.style.opacity = '0';
                modal.classList.remove('show');
                
                // –ó–∞–∫—Ä—ã–≤–∞–µ–º —Å –∞–Ω–∏–º–∞—Ü–∏–µ–π
                setTimeout(() => {
                    modal.style.display = 'none';
                    document.body.style.overflow = 'auto';
                }, 300);
                
                console.log('–ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –∑–∞–∫—Ä—ã—Ç–æ');
            }
        }

        function createNewProject() {
            console.log('createNewProject –≤—ã–∑–≤–∞–Ω–∞');
            const form = document.getElementById('newProjectForm');
            const formData = new FormData(form);
            
            // –ü–æ–ª—É—á–∞–µ–º –¥–∞–Ω–Ω—ã–µ –∏–∑ —Ñ–æ—Ä–º—ã
            const projectName = formData.get('projectName');
            const projectDescription = formData.get('projectDescription');
            const projectStatus = formData.get('projectStatus');
            const projectProgress = formData.get('projectProgress');
            const projectBudget = formData.get('projectBudget');
            const projectDuration = formData.get('projectDuration');
            const projectColor = formData.get('projectColor');
            
            console.log('–î–∞–Ω–Ω—ã–µ —Ñ–æ—Ä–º—ã:', {
                projectName,
                projectDescription,
                projectStatus,
                projectProgress,
                projectBudget,
                projectDuration,
                projectColor
            });
            
            // –í–∞–ª–∏–¥–∞—Ü–∏—è
            if (!projectName || !projectDescription || !projectProgress || !projectBudget) {
                alert('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –∑–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è');
                return;
            }
            
            // –°–æ–∑–¥–∞–µ–º –æ–±—ä–µ–∫—Ç –ø—Ä–æ–µ–∫—Ç–∞
            const projectData = {
                id: Date.now(),
                name: projectName,
                description: projectDescription,
                status: projectStatus,
                progress: parseInt(projectProgress),
                budget: parseFloat(projectBudget),
                duration: parseInt(projectDuration) || 12,
                color: projectColor,
                createdAt: new Date().toISOString()
            };
            
            console.log('–î–∞–Ω–Ω—ã–µ –ø—Ä–æ–µ–∫—Ç–∞:', projectData);
            
            // –ó–∞–∫—Ä—ã–≤–∞–µ–º –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ
            closeNewProjectModal();
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
            alert('–ü—Ä–æ–µ–∫—Ç —É—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–Ω!');
        }
        
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
        document.addEventListener('DOMContentLoaded', function() {
            checkElements();
            
            if (typeof mobileMenu === 'undefined') {
                mobileMenu = new MobileMenu();
            }
        });
    </script>
</body>
</html>
