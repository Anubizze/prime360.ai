<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PRIME360.AI - –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞</title>
    <link rel="icon" type="image/png" href="img/icon prime360.png">
    <link rel="apple-touch-icon" href="img/icon prime360.png">
    <link rel="stylesheet" href="css/documents.css">
    <link rel="stylesheet" href="css/index.css">
    <link rel="stylesheet" href="css/search-system.css">
    <script src="js/library-manager.js"></script>
    <script src="js/search-system.js"></script>
    <!-- Mobile Responsive -->
    <link rel="stylesheet" href="css/mobile-responsive.css">
    <script src="js/mobile-menu.js"></script>
</head>
<body>
    <div class="container">
        <div class="sidebar">
            <div class="logo">
                <div class="logo-icon">
                    <img src="img/icon prime360.png" alt="PRIME360.AI" width="32" height="32">
                </div>
                <div class="logo-text">PRIME360.AI</div>
            </div>
            
            <a href="index.html" class="menu-item">
                <span class="menu-icon">üè†</span>
                –ì–ª–∞–≤–Ω–æ–µ
            </a>
            <a href="projects.html" class="menu-item">
                <span class="menu-icon">üìä</span>
                –ü—Ä–æ–µ–∫—Ç—ã
            </a>
            <a href="archive.html" class="menu-item">
                <span class="menu-icon">üì¶</span>
                –ê—Ä—Ö–∏–≤
            </a>
            <a href="#" class="menu-item" onclick="toggleAIChat(); return false;">
                <span class="menu-icon">ü§ñ</span>
                AI-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç
            </a>
            <a href="documents.html" class="menu-item active">
                <span class="menu-icon">üìö</span>
                –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞
            </a>
            <a href="meetings.html" class="menu-item">
                <span class="menu-icon">üí¨</span>
                –°–æ–≤–µ—â–∞–Ω–∏—è
            </a>

            <div class="projects-section">
                <div class="section-title">–ü–†–û–ï–ö–¢–´</div>
                <div class="project-item">
                    <div class="project-dot green"></div>
                    "–ñ–ö –ü—Ä–æ–≥—Ä–µ—Å—Å"
                </div>
                <div class="project-item">
                    <div class="project-dot orange"></div>
                    "–ê—Å—Ç–∞–Ω–∞ Plaza"
                </div>
                <div class="project-item">
                    <div class="project-dot blue"></div>
                    "–ö–ª–∏–µ–Ω—Ç –ê"
                </div>
                <div class="project-item">
                    <div class="project-dot blue"></div>
                    "–ö–ª–∏–µ–Ω—Ç –ë"
                </div>
            </div>
        </div>

        <div class="main-content">
            <div class="header">
                <div></div>
                <div class="search-container">
                    <input type="text" id="global-search" class="search-input" placeholder="–ü–æ–∏—Å–∫">
                    <span class="search-icon">üîç</span>
                </div>
                <div class="user-profile">
                    <div class="user-info">
                        <div class="user-name">–ê–π–≥—É–Ω –ê—Ö–º–µ—Ç–æ–≤–∞</div>
                        <div class="user-role">PM / –ê–¥–º–∏–Ω</div>
                    </div>
                    <div class="user-avatar">–ê</div>
                </div>
            </div>

            <!-- Library Page Content -->
            <div class="content-header">
                <div class="content-title">
                    <div class="title-left">
                        <div class="title-text">–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤</div>
                    </div>
                </div>
            </div>
            
            <div class="content-body">
                <div class="library-grid">
                    <!-- Card 1: –ù–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã –†–ö -->
                    <div class="library-card" id="card-normative" onclick="openModalWithData('modal-normative', 'normative')">
                        <div class="library-card-icon">
                            <span>üìã</span>
                        </div>
                        <div class="library-card-content">
                            <h3>–ù–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã –†–ö</h3>
                            <p>–ó–∞–∫–æ–Ω—ã, –ø–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –∏ –Ω–æ—Ä–º–∞—Ç–∏–≤–Ω–æ-–ø—Ä–∞–≤–æ–≤—ã–µ –∞–∫—Ç—ã –†–µ—Å–ø—É–±–ª–∏–∫–∏ –ö–∞–∑–∞—Ö—Å—Ç–∞–Ω</p>
                        </div>
                        <div class="library-card-footer">
                            <span class="card-badge">–ó–∞–≥—Ä—É–∑–∫–∞...</span>
                            <span class="card-arrow">‚Üí</span>
                        </div>
                    </div>

                    <!-- Card 2: –°—Ç–∞–Ω–¥–∞—Ä—Ç—ã, —Ä–µ–≥–ª–∞–º–µ–Ω—Ç—ã, –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ -->
                    <div class="library-card" id="card-standards" onclick="openModalWithData('modal-standards', 'standards')">
                        <div class="library-card-icon purple">
                            <span>üìÑ</span>
                        </div>
                        <div class="library-card-content">
                            <h3>–°—Ç–∞–Ω–¥–∞—Ä—Ç—ã, —Ä–µ–≥–ª–∞–º–µ–Ω—Ç—ã, –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏</h3>
                            <p>–ö–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç—ã, –ø—Ä–æ—Ü–µ–¥—É—Ä—ã –∏ —Ä–∞–±–æ—á–∏–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏</p>
                        </div>
                        <div class="library-card-footer">
                            <span class="card-badge">–ó–∞–≥—Ä—É–∑–∫–∞...</span>
                            <span class="card-arrow">‚Üí</span>
                        </div>
                    </div>

                    <!-- Card 3: –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞–º–∏ -->
                    <div class="library-card" id="card-items" onclick="openModalWithData('modal-items', 'items')">
                        <div class="library-card-icon orange">
                            <span>üì¶</span>
                        </div>
                        <div class="library-card-content">
                            <h3>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞–º–∏</h3>
                            <p>–ö–∞—Ç–∞–ª–æ–≥–∏, —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—é –ø—Ä–æ–µ–∫—Ç–∞–º–∏</p>
                        </div>
                        <div class="library-card-footer">
                            <span class="card-badge">–ó–∞–≥—Ä—É–∑–∫–∞...</span>
                            <span class="card-arrow">‚Üí</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal 1: –ù–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã –†–ö -->
    <div id="modal-normative" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>
                    <span class="modal-icon">üìã</span>
                    –ù–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã –†–ö
                </h2>
                <button class="close-modal" onclick="closeModal('modal-normative')">&times;</button>
            </div>
            <div class="modal-body">
                <div class="modal-search">
                    <input type="text" placeholder="–ü–æ–∏—Å–∫ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤..." class="modal-search-input">
                    <span class="search-icon">üîç</span>
                </div>
                
                <div class="documents-list">
                    <div class="loading">–ó–∞–≥—Ä—É–∑–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤...</div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn-secondary" onclick="closeModal('modal-normative')">–ó–∞–∫—Ä—ã—Ç—å</button>
            </div>
        </div>
    </div>

    <!-- Modal 2: –°—Ç–∞–Ω–¥–∞—Ä—Ç—ã, —Ä–µ–≥–ª–∞–º–µ–Ω—Ç—ã, –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ -->
    <div id="modal-standards" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>
                    <span class="modal-icon">üìÑ</span>
                    –°—Ç–∞–Ω–¥–∞—Ä—Ç—ã, —Ä–µ–≥–ª–∞–º–µ–Ω—Ç—ã, –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏
                </h2>
                <button class="close-modal" onclick="closeModal('modal-standards')">&times;</button>
            </div>
            <div class="modal-body">
                <div class="modal-search">
                    <input type="text" placeholder="–ü–æ–∏—Å–∫ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤..." class="modal-search-input">
                    <span class="search-icon">üîç</span>
                </div>
                
                <div class="documents-list">
                    <div class="loading">–ó–∞–≥—Ä—É–∑–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤...</div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn-secondary" onclick="closeModal('modal-standards')">–ó–∞–∫—Ä—ã—Ç—å</button>
            </div>
        </div>
    </div>

    <!-- Modal 3: –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞–º–∏ -->
    <div id="modal-items" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>
                    <span class="modal-icon">üì¶</span>
                    –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞–º–∏
                </h2>
                <button class="close-modal" onclick="closeModal('modal-items')">&times;</button>
            </div>
            <div class="modal-body">
                <div class="modal-search">
                    <input type="text" placeholder="–ü–æ–∏—Å–∫ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤..." class="modal-search-input">
                    <span class="search-icon">üîç</span>
                </div>
                
                <div class="documents-list">
                    <div class="loading">–ó–∞–≥—Ä—É–∑–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤...</div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn-secondary" onclick="closeModal('modal-items')">–ó–∞–∫—Ä—ã—Ç—å</button>
            </div>
        </div>
    </div>

    <script>
        // Modal functions
        function closeModal(modalId) {
            document.querySelector(`#${modalId} .modal-content`).classList.remove('show');
            setTimeout(() => {
                document.getElementById(modalId).style.display = 'none';
            }, 300);
        }

        // Close modal on outside click
        window.addEventListener('click', function(event) {
            if (event.target.classList.contains('modal')) {
                const modalId = event.target.id;
                closeModal(modalId);
            }
        });

        // Close modal on Escape key
        document.addEventListener('keydown', function(event) {
            if (event.key === 'Escape') {
                const modals = document.querySelectorAll('.modal');
                modals.forEach(modal => {
                    if (modal.style.display === 'flex') {
                        closeModal(modal.id);
                    }
                });
            }
        });

        // AI Chat Functions
        let isChatOpen = false;
        let isMinimized = false;

        function toggleAIChat() {
            const chatWindow = document.getElementById('aiChatWindow');
            const floatButton = document.querySelector('.ai-float-button');
            
            if (isChatOpen) {
                closeAIChat();
            } else {
                chatWindow.classList.add('show');
                floatButton.style.display = 'none';
                isChatOpen = true;
                isMinimized = false;
            }
        }

        function closeAIChat() {
            const chatWindow = document.getElementById('aiChatWindow');
            const floatButton = document.querySelector('.ai-float-button');
            
            chatWindow.classList.remove('show');
            chatWindow.classList.remove('minimized');
            setTimeout(() => {
                floatButton.style.display = 'flex';
            }, 300);
            isChatOpen = false;
            isMinimized = false;
        }

        function minimizeAIChat() {
            const chatWindow = document.getElementById('aiChatWindow');
            chatWindow.classList.toggle('minimized');
            isMinimized = !isMinimized;
        }

        function sendAIMessage() {
            const input = document.getElementById('aiChatInput');
            const message = input.value.trim();
            
            if (!message) return;

            // –î–æ–±–∞–≤–ª—è–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
            addMessageToChat(message, 'user');
            input.value = '';

            // –ò–º–∏—Ç–∏—Ä—É–µ–º –æ—Ç–≤–µ—Ç AI
            setTimeout(() => {
                const aiResponse = getAIResponse(message);
                addMessageToChat(aiResponse, 'ai');
            }, 1000);
        }

        function sendSuggestion(suggestion) {
            const input = document.getElementById('aiChatInput');
            input.value = suggestion;
            sendAIMessage();
        }

        function handleAIEnter(event) {
            if (event.key === 'Enter') {
                sendAIMessage();
            }
        }

        function addMessageToChat(message, sender) {
            const chatBody = document.getElementById('aiChatBody');
            const messageDiv = document.createElement('div');
            messageDiv.className = `ai-message-container ${sender}`;
            
            if (sender === 'user') {
                messageDiv.innerHTML = `
                    <div class="ai-message user-message">
                        <div class="ai-message-text">${message}</div>
                    </div>
                `;
            } else {
                messageDiv.innerHTML = `
                    <div class="ai-avatar">ü§ñ</div>
                    <div class="ai-message">
                        <div class="ai-message-text">${message}</div>
                    </div>
                `;
            }
            
            chatBody.appendChild(messageDiv);
            chatBody.scrollTop = chatBody.scrollHeight;
        }

        function getAIResponse(message) {
            const responses = {
                '–ø–æ–∫–∞–∑–∞—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç—ã –ø—Ä–æ–µ–∫—Ç–∞': '–î–æ–∫—É–º–µ–Ω—Ç—ã –ø—Ä–æ–µ–∫—Ç–∞:\n‚Ä¢ –£—Å—Ç–∞–≤ –ø—Ä–æ–µ–∫—Ç–∞_v5.pdf\n‚Ä¢ –ì—Ä–∞—Ñ–∏–∫ —Å –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏—è–º–∏.pdf\n‚Ä¢ –¢–∞–±–ª–∏—Ü—ã —Ñ–∏–Ω.–æ—Ç—á–µ—Ç.pdf\n‚Ä¢ –ü–µ—Ä–µ—Å–µ–Ω—å –ò–†–î –¥–ª—è –ö–í–ê.pdf',
                '–Ω–∞–π—Ç–∏ –¥–æ–∫—É–º–µ–Ω—Ç': '–î–ª—è –ø–æ–∏—Å–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞:\n1. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–æ–∏—Å–∫ –≤ –≤–µ—Ä—Ö–Ω–µ–π —á–∞—Å—Ç–∏\n2. –§–∏–ª—å—Ç—Ä—É–π—Ç–µ –ø–æ —Ç–∏–ø—É –¥–æ–∫—É–º–µ–Ω—Ç–∞\n3. –°–æ—Ä—Ç–∏—Ä—É–π—Ç–µ –ø–æ –¥–∞—Ç–µ –∏–ª–∏ –Ω–∞–∑–≤–∞–Ω–∏—é',
                '–∑–∞–≥—Ä—É–∑–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç': '–î–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞:\n1. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É "–ó–∞–≥—Ä—É–∑–∏—Ç—å"\n2. –í—ã–±–µ—Ä–∏—Ç–µ —Ñ–∞–π–ª —Å –∫–æ–º–ø—å—é—Ç–µ—Ä–∞\n3. –î–æ–±–∞–≤—å—Ç–µ –æ–ø–∏—Å–∞–Ω–∏–µ\n4. –ù–∞–∂–º–∏—Ç–µ "–°–æ—Ö—Ä–∞–Ω–∏—Ç—å"',
                '–ø—Ä–∏–≤–µ—Ç': '–ü—Ä–∏–≤–µ—Ç! –Ø AI-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç PRIME360. –ß–µ–º –º–æ–≥—É –ø–æ–º–æ—á—å —Å –¥–æ–∫—É–º–µ–Ω—Ç–∞–º–∏?',
                '–ø–æ–º–æ—â—å': '–Ø –º–æ–≥—É –ø–æ–º–æ—á—å —Å:\n‚Ä¢ –ü–æ–∏—Å–∫–æ–º –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤\n‚Ä¢ –ó–∞–≥—Ä—É–∑–∫–æ–π —Ñ–∞–π–ª–æ–≤\n‚Ä¢ –û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–µ–π –±–∏–±–ª–∏–æ—Ç–µ–∫–∏\n‚Ä¢ –†–∞–±–æ—Ç–æ–π —Å PDF —Ñ–∞–π–ª–∞–º–∏'
            };
            
            const lowerMessage = message.toLowerCase();
            for (const [key, response] of Object.entries(responses)) {
                if (lowerMessage.includes(key)) {
                    return response;
                }
            }
            
            return '–ò–∑–≤–∏–Ω–∏—Ç–µ, —è –Ω–µ –ø–æ–Ω—è–ª –≤–∞—à –≤–æ–ø—Ä–æ—Å. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–ø—Ä–æ—Å–∏—Ç—å –æ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ö –∏–ª–∏ –ø–æ–∏—Å–∫–µ —Ñ–∞–π–ª–æ–≤.';
        }
    </script>

    <!-- Floating AI Assistant Button -->
    <button class="ai-float-button" onclick="toggleAIChat()" title="AI –ê—Å—Å–∏—Å—Ç–µ–Ω—Ç">
        <span class="ai-float-icon">ü§ñ</span>
        <span class="ai-pulse"></span>
    </button>

    <!-- AI Chat Window -->
    <div id="aiChatWindow" class="ai-chat-window">
        <div class="ai-chat-header">
            <div class="ai-chat-title">
                <span class="ai-chat-icon">ü§ñ</span>
                <div>
                    <div class="ai-chat-name">AI –ê—Å—Å–∏—Å—Ç–µ–Ω—Ç PRIME360</div>
                    <div class="ai-chat-status">
                        <span class="status-dot online"></span>
                        –í —Å–µ—Ç–∏
                    </div>
                </div>
            </div>
            <div class="ai-chat-actions">
                <button class="ai-action-btn" onclick="minimizeAIChat()" title="–°–≤–µ—Ä–Ω—É—Ç—å">‚àí</button>
                <button class="ai-action-btn" onclick="closeAIChat()" title="–ó–∞–∫—Ä—ã—Ç—å">√ó</button>
            </div>
        </div>
        
        <div class="ai-chat-body" id="aiChatBody">
            <div class="ai-welcome-message">
                <div class="ai-avatar">ü§ñ</div>
                <div class="ai-message">
                    <div class="ai-message-text">
                        –ü—Ä–∏–≤–µ—Ç! –Ø AI-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç PRIME360. –ß–µ–º –º–æ–≥—É –ø–æ–º–æ—á—å —Å –¥–æ–∫—É–º–µ–Ω—Ç–∞–º–∏?
                        <div class="ai-suggestions">
                            <button class="suggestion-btn" onclick="sendSuggestion('–ü–æ–∫–∞–∑–∞—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç—ã –ø—Ä–æ–µ–∫—Ç–∞')">
                                üìÑ –ü–æ–∫–∞–∑–∞—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç—ã –ø—Ä–æ–µ–∫—Ç–∞
                            </button>
                            <button class="suggestion-btn" onclick="sendSuggestion('–ù–∞–π—Ç–∏ –¥–æ–∫—É–º–µ–Ω—Ç')">
                                üîç –ù–∞–π—Ç–∏ –¥–æ–∫—É–º–µ–Ω—Ç
                            </button>
                            <button class="suggestion-btn" onclick="sendSuggestion('–ó–∞–≥—Ä—É–∑–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç')">
                                üì§ –ó–∞–≥—Ä—É–∑–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="ai-chat-footer">
            <div class="ai-input-container">
                <button class="ai-attach-btn" title="–ü—Ä–∏–∫—Ä–µ–ø–∏—Ç—å —Ñ–∞–π–ª">üìé</button>
                <input type="text" 
                       id="aiChatInput" 
                       class="ai-input" 
                       placeholder="–í–≤–µ–¥–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ..." 
                       onkeypress="handleAIEnter(event)">
                <button class="ai-send-btn" onclick="sendAIMessage()" title="–û—Ç–ø—Ä–∞–≤–∏—Ç—å">
                    <span class="send-icon">üì§</span>
                </button>
            </div>
            <div class="ai-footer-info">
                <span class="ai-footer-text">AI –º–æ–∂–µ—Ç –¥–µ–ª–∞—Ç—å –æ—à–∏–±–∫–∏. –ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ –≤–∞–∂–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é.</span>
            </div>
        </div>
    </div>
</body>
</html>
